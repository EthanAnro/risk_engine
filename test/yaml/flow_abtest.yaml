workflow:
  - node:
    node_name: start_1
    node_type: start
    next_node_name: abtest_1
    next_node_type: abtest
  - node:
    node_name: abtest_1
    node_type: abtest
    next_node_name: ""
    next_node_type: ""
  - node:
    node_name: ruleset_1
    node_type: ruleset
    next_node_name: end_1
    next_node_type: end
  - node:
    node_name: ruleset_2
    node_type: ruleset
    next_node_name: end_1
    next_node_type: end
  - node:
    node_name: end_1
    node_type: end
    next_node_name: ""
    next_node_type: ""
rulesets:
  - ruleset:
    ruleset_name: ruleset_1
    depends: [feature_1,feature_2,feature_e]
    rules: 
    - rule: 
      rule_name: rule_1
      conditions:
      - condition:
        feature: feature_1
        operator: GT
        value: 50
      logic: AND 
      decision: reject
    - rule: 
      rule_name: rule_2
      conditions:
      - condition:
        feature: feature_2
        operator: LT
        value: 18
      - condition:
        feature: feature_3
        operator: GT
        value: 50
      logic: OR
      decision: reject 
  - ruleset:
    ruleset_name: ruleset_2
    depends: [feature_1,feature_2,feature_3]
    rules: 
    - rule: 
      rule_name: rule_3
      conditions:
      - condition:
        feature: feature_1
        operator: GT
        value: 5
      logic: AND 
      decision: reject
    - rule: 
      rule_name: rule_4
      conditions:
      - condition:
        feature: feature_2
        operator: LT
        value: 8
      - condition:
        feature: feature_3
        operator: GT
        value: 9
      logic: OR
      decision: reject 
abtests:
  - abtest:
    name: abtest_1 
    type: abtest
    output_name: my_abtest_1
    output_type: "[]interface{}"
    branchs:
    - branch:
      branch_name: branch_1
      percent: 44.5
      decision:
        output: [ruleset_1, ruleset]
    - branch:
      branch_name: branch_2
      percent: 55.5
      decision:
        output: [ruleset_2, ruleset]
